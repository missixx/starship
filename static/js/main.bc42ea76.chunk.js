(this.webpackJsonpstarship=this.webpackJsonpstarship||[]).push([[0],{20:function(t,e,n){},21:function(t,e,n){},22:function(t,e,n){},24:function(t,e,n){},25:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),c=n(5),a=n.n(c),s=n(4),o=n(3),u=n(10),l=n(11),d=(n(20),n(2)),h=(n(21),n(22),n(1));var j=Object(o.b)((function(t){return{state:t}}),(function(t){return{}}))((function(t){return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"star",style:{width:t.state.ship.speed/2+"px"}}),Object(h.jsx)("div",{className:"graph",style:{height:t.item.value+"px"},children:" "})]})}));n(24);var p=Object(o.b)((function(t){return{state:t}}),(function(t){return{}}))((function(t){return Object(h.jsx)("div",{className:"starship-collider",style:{top:t.state.ship.top+"px",right:t.state.ship.right+"px"},children:Object(h.jsx)("div",{className:"starship"})})}));n(25);var O=Object(o.b)((function(t){return{state:t}}),(function(t){return{onStop:function(){return t({type:"STOP"})}}}))((function(t){return Object(h.jsxs)("div",{className:"interface-container",children:[Object(h.jsx)("div",{className:"pause-btn",onClick:t.onStop,children:"| |"}),Object(h.jsx)("div",{className:"distance-block",children:Object(h.jsxs)("div",{className:"distance-elem",children:["DISTANCE:",t.state.ship.distance]})})]})}));n(26);var f=Object(o.b)((function(t){return{state:t}}),(function(t){return{onStart:function(){return t({type:"START"})},onEnterCustomization:function(){return t({type:"ENTER_CUSTOMIZATION"})}}}))((function(t){return Object(h.jsx)("div",{className:t.state.controller.isActive?"settings-container_none":"settings-container",children:Object(h.jsxs)("div",{className:"settings-inner",children:[Object(h.jsx)("div",{className:"continue",onClick:t.onStart,children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"}),Object(h.jsx)("div",{className:"customization",onClick:t.onEnterCustomization,children:"\u041a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0430\u0446\u0438\u044f(\u0412 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435)"})]})})}));n(27);var b=Object(o.b)((function(t){return{state:t}}),(function(t){return{}}))((function(t){return Object(h.jsx)("div",{className:t.state.controller.isActive?"pause_none":"pause",children:"PAUSE"})}));n(28);function v(t){return Object(h.jsx)("div",{className:"asteroid",style:{right:t.item.right+"px",top:t.item.top+"px"}})}var E=Object(o.b)((function(t){return{state:t}}),(function(t){return{onAddGraph:function(e,n){return t({type:"ADD_GRAPH",payload:{id:+e,value:n}})},onDeleteGraph:function(){return t({type:"DELETE_GRAPH"})},onChangeDistance:function(){return t({type:"CHANGE_DISTANCE"})},onAsteroidMove:function(){return t({type:"ASTEROID_MOVE"})},onDeleteAsteroid:function(){return t({type:"ASTEROID_DELETE"})},onEnemyAdd:function(e,n){return t({type:"ENEMY_ADD",payload:Object(d.a)({id:+e},n)})},onUpMove:function(){return t({type:"UP_MOVE"})},onMiddleMove:function(){return t({type:"MIDDLE_MOVE"})},onDownMove:function(){return t({type:"DOWN_MOVE"})}}}))((function(t){var e=i.a.createRef(),n=t.state.graphs.map((function(t){return Object(h.jsx)(j,{item:t},t.id)})),r=t.state.asteroid.map((function(t){return Object(h.jsx)(v,{item:t},t.id)})),c=function(e,n){e.forEach((function(e){var r=e.right,i=r+80,c=e.top,s=c+80,o=n.right,u=o+200,l=n.top;i>o&&r<u&&s>l&&c<l+80&&function(){var e=[t.onDownMove,t.onUpMove];30===t.state.ship.top?t.onMiddleMove():110===t.state.ship.top?e[a(0,2)]():190===t.state.ship.top&&t.onMiddleMove()}()}))},a=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t};return i.a.useEffect((function(){if(t.state.controller.isActive){e.current.scrollLeft=e.current.scrollWidth;var n=setInterval((function(){!function(){var e=Date.now().toString();t.onAddGraph(e,a(1,300))}(),t.onAsteroidMove(),c(t.state.asteroid,t.state.ship),function(e){if(e%750===0&&0!==e){var n=Date.now().toString(),r=a(0,3),i=t.state.ship.generatePositionArray[r];t.onEnemyAdd(n,i)}}(t.state.ship.distance)}),10);return function(){clearInterval(n)}}})),i.a.useEffect((function(){n.length>67&&(t.onDeleteGraph(),t.onChangeDistance())})),i.a.useEffect((function(){t.state.asteroid.length>2&&t.onDeleteAsteroid()})),Object(h.jsx)("div",{className:"app-container",children:Object(h.jsx)("div",{className:"field",children:Object(h.jsxs)("div",{className:"graph-container",ref:e,children:[r,Object(h.jsx)(O,{}),Object(h.jsx)(b,{}),Object(h.jsx)(f,{}),n,Object(h.jsx)(p,{ship:t.state.ship})]})})})})),g=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,c=e.getLCP,a=e.getTTFB;n(t),r(t),i(t),c(t),a(t)}))},m=n(6),A=[];var D={isCustomization:!1};var S={generatePositionArray:[{top:30,right:0},{top:110,right:0},{top:190,right:0}],health:100,distance:0,top:110,right:750,currentSkinValue:0,skins:[]};var T={timerAmount:["\u041d\u0410\u0427\u0410\u0422\u042c","3","2","1","START"],timerCurrentAmount:0};var N=[{id:0,top:110,right:0}];var M=Object(s.combineReducers)({graphs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_GRAPH":return[].concat(Object(m.a)(t),[e.payload]);case"DELETE_GRAPH":var n=t.slice();return n.shift(),n;default:return t}},controller:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"START":return Object(d.a)(Object(d.a)({},t),{},{isActive:!0});case"STOP":return Object(d.a)(Object(d.a)({},t),{},{isActive:!1});case"ENTER_CUSTOMIZATION":return Object(d.a)(Object(d.a)({},t),{},{isCustomization:!0});case"EXIT_CUSTOMIZATION":return Object(d.a)(Object(d.a)({},t),{},{isCustomization:!1});default:return t}},ship:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"UP_MOVE":return Object(d.a)(Object(d.a)({},t),{},{top:30});case"MIDDLE_MOVE":return Object(d.a)(Object(d.a)({},t),{},{top:110});case"DOWN_MOVE":return Object(d.a)(Object(d.a)({},t),{},{top:190});case"CHANGE_DISTANCE":return Object(d.a)(Object(d.a)({},t),{},{distance:t.distance+10});case"NEXT_SKIN":return t.currentSkinValue<t.skins.length-1?Object(d.a)(Object(d.a)({},t),{},{currentSkinValue:t.currentSkinValue+1}):Object(d.a)(Object(d.a)({},t),{},{currentSkinValue:0});case"PREV_SKIN":return t.currentSkinValue>0?Object(d.a)(Object(d.a)({},t),{},{currentSkinValue:t.currentSkinValue-1}):Object(d.a)(Object(d.a)({},t),{},{currentSkinValue:t.skins.length-1});default:return t}},interface:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"START_TIMER":return Object(d.a)(Object(d.a)({},t),{},{timerCurrentAmount:t.timerCurrentAmount+1});default:return t}},asteroid:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ASTEROID_MOVE":var n=t.map((function(t){return Object(d.a)(Object(d.a)({},t),{},{right:t.right+10})}));return n;case"ENEMY_ADD":return[].concat(Object(m.a)(t),[e.payload]);case"ASTEROID_DELETE":var r=t.slice();return r.shift(),r;default:return t}}}),x=Object(s.createStore)(M,Object(u.composeWithDevTools)(Object(s.applyMiddleware)(l.a)));a.a.render(Object(h.jsx)(o.a,{store:x,children:Object(h.jsx)(E,{})}),document.getElementById("root")),g()}},[[29,1,2]]]);
//# sourceMappingURL=main.bc42ea76.chunk.js.map